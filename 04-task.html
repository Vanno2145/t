<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task 04</title>
</head>

<body>
    <script>
        /*
        Задание:
        Напишите сценарий, который выполняет GET запрос по адресу https://jsonplaceholder.typicode.com/todos
        И выводит содержимое ответа в виде таблицы.
        */

        let url = 'https://jsonplaceholder.typicode.com/todos';
        
        fetch(url).then(response => response.json()).then(json => {
                let table = document.createElement("table");
            
                let div = document.createElement("div");

          
                let headerRow = document.createElement("tr");
                let thId = document.createElement("th"); 
                thId.textContent = "ID"; headerRow.append(thId);
                let thTitle = document.createElement("th"); 
                thTitle.textContent = "Задача"; headerRow.append(thTitle);
                let thCompleted = document.createElement("th"); 
                thCompleted.textContent = "Выполнено";

                for (let i = 0; i < json.length; i++) {
                    let item = json[i];
                    let row = document.createElement("tr");
                    let tdId = document.createElement("td"); 
                    tdId.textContent = item.id; 
                    row.append(tdId);
                    let tdTitle = document.createElement("td"); 
                    tdTitle.textContent = item.title; 
                    row.append(tdTitle);
                    let tdCompleted = document.createElement("td"); 
                    tdCompleted.textContent = item.completed ? "Да" : "Нет"; 
                    row.append(tdCompleted);
                    div.append(row);
                }

                table.append(div);
                document.body.append(table);
            })
            
    </script>
</body>

</html>